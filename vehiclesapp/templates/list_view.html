{% extends 'base.html' %}
{% block content %}

<h1>Lista de veh√≠culos</h1>
<a href="/create/" class="btn btn-primary mb-3">Nuevo veh√≠culo</a>

<table class="table table-bordered">
    <thead class="table-dark">
        <tr>
            <th>Placa</th>
            <th>Marca</th>
            <th>Color</th>
            <th>Modelo</th>
            <th>Acciones</th>
        </tr>
    </thead>

    <tbody>
        {% for data in dataset %}
        <tr>
            <td>{{ data.placa }}</td>
            <td>{{ data.marca }}</td>
            <td>{{ data.color_vehiculo }}</td>
            <td>{{ data.modelo }}</td>
            <td>
                <a href="/update/{{ data.id }}/" class="btn btn-warning btn-sm">‚úèÔ∏è</a>

                <button class="btn btn-danger btn-sm" data-bs-toggle="modal"
                        data-bs-target="#deleteModal{{ data.id }}">üóëÔ∏è</button>
            </td>
        </tr>

        <!-- Modal -->
        <div class="modal fade" id="deleteModal{{ data.id }}" tabindex="-1">
          <div class="modal-dialog">
            <div class="modal-content">
              <form method="POST" action="/delete/{{ data.id }}/">
                {% csrf_token %}
                <div class="modal-header">
                  <h5 class="modal-title">Eliminar veh√≠culo</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">
                  ¬øSeguro que quieres eliminar el veh√≠culo con placa <b>{{ data.placa }}</b>?
                </div>

                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                  <button type="submit" class="btn btn-danger">Eliminar</button>
                </div>
              </form>
            </div>
          </div>
        </div>

        {% endfor %}
    </tbody>
</table>

{% endblock %}
